(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{39154:(e,s,t)=>{Promise.resolve().then(t.bind(t,42382))},42382:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(95155),l=t(12115),r=t(93831),n=t(47746),i=t(6874),d=t.n(i);function c(e){let{report:s}=e;return(0,a.jsx)(d(),{href:"/report/".concat(s.id),className:"block rounded border p-3 hover:bg-muted",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:s.predicted.label}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[new Date(s.generated_at).toLocaleString()," â€¢ ",Math.round(100*s.predicted.probability),"%"]})]}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-wide opacity-80",children:s.status})]})})}var o=t(31886),x=t(55203);function u(){let{session:e}=(0,x.S)(),[s,t]=(0,l.useState)([]),[i,d]=(0,l.useState)(!0),[u,m]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async function(){try{if(d(!0),m(null),null==e?void 0:e.sessionId){let s=await (0,o.Q4)(e.sessionId);t(s)}else t((0,o.G1)())}catch(e){var s;t((0,o.G1)()),m(null!==(s=null==e?void 0:e.message)&&void 0!==s?s:"Failed to load reports")}finally{d(!1)}})()},[null==e?void 0:e.sessionId]),(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)(r.NavBar,{}),(0,a.jsx)("main",{className:"flex-1 p-4",children:(0,a.jsxs)("div",{className:"mx-auto max-w-3xl space-y-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Report History"}),u&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:u}),i?(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):0===s.length?(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No reports yet."}):(0,a.jsx)("div",{className:"space-y-2",children:s.slice().reverse().map(e=>(0,a.jsx)(c,{report:e},e.id))})]})}),(0,a.jsx)(n.w,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[470,874,922,507,441,684,358],()=>s(39154)),_N_E=e.O()}]);