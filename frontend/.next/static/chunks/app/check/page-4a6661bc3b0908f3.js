(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{5196:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},20280:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>D});var t=s(95155),r=s(12115),n=s(35695),i=s(93831),l=s(47746),c=s(52900),o=s(97168),d=s(88482),u=s(88145),m=s(5196),x=s(54416),h=s(19946);let f=(0,h.A)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function v(e){let{question:a,onAnswer:s,className:n}=e,[i,l]=(0,r.useState)(0),[h,v]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=e=>{"y"===e.key.toLowerCase()?s(!0):"n"===e.key.toLowerCase()?s(!1):"s"===e.key.toLowerCase()&&s(null)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]),(0,t.jsxs)("div",{className:n,children:[(0,t.jsx)(c.P.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.3,dragTransition:{bounceStiffness:300,bounceDamping:20},onDrag:(e,a)=>{v(!0),l(a.offset.x)},onDragEnd:(e,a)=>{v(!1),a.offset.x>80?s(!0):a.offset.x<-80&&s(!1),l(0)},whileDrag:{scale:1.02,rotate:.1*i,boxShadow:"0 10px 30px oklch(0.55 0.15 162 / 0.2)"},className:"relative cursor-grab active:cursor-grabbing",initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:i>0?300:-300,scale:.8},transition:{type:"spring",stiffness:300,damping:30},children:(0,t.jsxs)(d.Zp,{className:"w-full max-w-md mx-auto border-border/50 bg-card/80 backdrop-blur-sm",children:[h?i>40?(0,t.jsx)(c.P.div,{className:"absolute inset-0 flex items-center justify-center bg-primary/20 rounded-lg backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},children:(0,t.jsxs)(c.P.div,{className:"flex items-center space-x-2 text-primary",initial:{scale:.8},animate:{scale:1},children:[(0,t.jsx)(m.A,{className:"h-8 w-8"}),(0,t.jsx)("span",{className:"text-lg font-semibold",children:"Yes"})]})}):i<-40?(0,t.jsx)(c.P.div,{className:"absolute inset-0 flex items-center justify-center bg-destructive/20 rounded-lg backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},children:(0,t.jsxs)(c.P.div,{className:"flex items-center space-x-2 text-destructive",initial:{scale:.8},animate:{scale:1},children:[(0,t.jsx)(x.A,{className:"h-8 w-8"}),(0,t.jsx)("span",{className:"text-lg font-semibold",children:"No"})]})}):null:null,(0,t.jsxs)(d.aR,{className:"text-center",children:[(0,t.jsx)(d.ZB,{className:"text-lg text-card-foreground",children:a.label}),a.helpText&&(0,t.jsx)(d.BT,{className:"text-sm text-muted-foreground",children:a.helpText})]}),(0,t.jsxs)(d.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)(c.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,t.jsxs)(o.$,{onClick:()=>s(!0),className:"h-12 text-base w-full glow-emerald",variant:"default",children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Yes"]})}),(0,t.jsx)(c.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,t.jsxs)(o.$,{onClick:()=>s(!1),className:"h-12 text-base w-full border-secondary text-secondary hover:bg-secondary/10",variant:"outline",children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"No"]})})]}),(0,t.jsx)(c.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,t.jsxs)(o.$,{onClick:()=>s(null),variant:"ghost",className:"w-full text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(f,{className:"mr-2 h-4 w-4"}),"I don't know / Skip"]})})]})]})}),(0,t.jsxs)(c.P.div,{className:"mt-6 text-center text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,t.jsx)(u.E,{variant:"outline",className:"text-xs border-primary/30 text-primary",children:"Y = Yes"}),(0,t.jsx)(u.E,{variant:"outline",className:"text-xs border-secondary/30 text-secondary",children:"N = No"}),(0,t.jsx)(u.E,{variant:"outline",className:"text-xs border-muted-foreground/30",children:"S = Skip"})]}),(0,t.jsx)("p",{className:"mt-2",children:"Use keyboard shortcuts or swipe left/right"})]})]})}var p=s(95295);function g(e){let{current:a,total:s,className:r}=e,n=Math.round(a/s*100);return(0,t.jsxs)("div",{className:r,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-2",children:[(0,t.jsx)("span",{children:"Progress"}),(0,t.jsxs)("span",{children:[n,"%"]})]}),(0,t.jsx)(p.k,{value:n,className:"h-2"}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground mt-1",children:[(0,t.jsxs)("span",{children:[a," of ",s," questions"]}),(0,t.jsxs)("span",{children:[s-a," remaining"]})]})]})}var j=s(89852),y=s(82714);let N=(0,h.A)("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);function b(e){let{onTemperatureChange:a,onContinue:s,initialTemperature:n}=e,[i,l]=(0,r.useState)((null==n?void 0:n.toString())||""),[c,u]=(0,r.useState)(""),m=e=>{if(l(e),u(""),""===e){a(void 0);return}let s=Number.parseFloat(e);if(isNaN(s)){u("Please enter a valid number");return}if(s<34||s>43){u("Temperature should be between 34\xb0C and 43\xb0C");return}a(s)},x=()=>{(!i||!c)&&s()};return(0,t.jsxs)(d.Zp,{className:"w-full max-w-md mx-auto",children:[(0,t.jsxs)(d.aR,{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 mb-4",children:(0,t.jsx)(N,{className:"h-6 w-6 text-primary"})}),(0,t.jsx)(d.ZB,{children:"Temperature Check"}),(0,t.jsx)(d.BT,{children:"Since you have a fever, please enter your current body temperature if known"})]}),(0,t.jsxs)(d.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.J,{htmlFor:"temperature",children:"Temperature (\xb0C)"}),(0,t.jsx)(j.p,{id:"temperature",type:"number",placeholder:"37.0",value:i,onChange:e=>m(e.target.value),min:"34",max:"43",step:"0.1"}),c&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:c}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Normal body temperature is around 37\xb0C (98.6\xb0F)"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>x(),className:"flex-1",children:"Skip"}),(0,t.jsx)(o.$,{onClick:x,disabled:!!c,className:"flex-1",children:"Continue"})]})]})]})}let w=(0,h.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var k=s(53999);function C(e){let{className:a,size:s="md"}=e;return(0,t.jsx)(w,{className:(0,k.cn)("animate-spin text-primary",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[s],a)})}var P=s(55203);let _=[{id:"fever",text:"Do you have a fever?"},{id:"headache",text:"Are you experiencing headaches?"},{id:"nausea",text:"Do you feel nauseous?"},{id:"diarrhea",text:"Are you having diarrhea?"},{id:"body_pain",text:"Do you have body pain?"},{id:"cough",text:"Do you have a cough?"},{id:"chills",text:"Are you experiencing chills?"},{id:"fatigue",text:"Do you feel fatigued?"},{id:"sore_throat",text:"Do you have a sore throat?"},{id:"abdominal_pain",text:"Any abdominal pain?"},{id:"rash",text:"Do you have a rash?"},{id:"duration_gt_3d",text:"Has it lasted more than 3 days?"}];var S=s(31886),A=s(92138),T=s(40133);function D(){var e;let a=(0,n.useRouter)(),{session:s,initSession:c,updateSymptom:u,updateVitals:m,nextQuestion:x,resetSession:h}=(0,P.S)(),[f,p]=(0,r.useState)(!1),[j,y]=(0,r.useState)(0),[N,w]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{s||(c(),(0,S.$s)("symptom_check_started"));let e=setTimeout(()=>w(!1),500);return()=>clearTimeout(e)},[s,c]),(0,r.useEffect)(()=>{s&&y(Object.values(s.symptoms).filter(e=>void 0!==e).length)},[s]),N||!s)return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(i.NavBar,{}),(0,t.jsx)("main",{className:"flex-1 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)(C,{size:"lg"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Initializing symptom check..."})]})}),(0,t.jsx)(l.w,{})]});let k=null!==(e=_[s.currentQuestionIndex])&&void 0!==e?e:null,D=j>=8||s.isComplete,E=()=>{(0,S.$s)("flow_completed",{session_id:s.sessionId,questions_answered:j,total_questions:_.length}),a.push("/result")};return f?(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(i.NavBar,{}),(0,t.jsx)("main",{className:"flex-1 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,t.jsx)(g,{current:j,total:_.length,className:"mb-8"}),(0,t.jsx)(b,{onTemperatureChange:e=>{m({temperature_c:e})},onContinue:()=>{p(!1),x()},initialTemperature:s.vitals.temperature_c})]})}),(0,t.jsx)(l.w,{})]}):!k||s.currentQuestionIndex>=_.length?(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(i.NavBar,{}),(0,t.jsx)("main",{className:"flex-1 flex items-center justify-center p-4",children:(0,t.jsxs)(d.Zp,{className:"w-full max-w-md mx-auto",children:[(0,t.jsxs)(d.aR,{className:"text-center",children:[(0,t.jsx)(d.ZB,{children:"Symptom Check Complete"}),(0,t.jsxs)(d.BT,{children:["You've answered ",j," questions. Ready to see your results?"]})]}),(0,t.jsxs)(d.Wu,{className:"space-y-4",children:[(0,t.jsxs)(o.$,{onClick:E,className:"w-full",size:"lg",children:[(0,t.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"See Results"]}),(0,t.jsxs)(o.$,{onClick:()=>{h(),c(),p(!1),(0,S.$s)("symptom_check_restarted")},variant:"outline",className:"w-full bg-transparent",children:[(0,t.jsx)(T.A,{className:"mr-2 h-4 w-4"}),"Start Over"]})]})]})}),(0,t.jsx)(l.w,{})]}):(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(i.NavBar,{}),(0,t.jsx)("main",{className:"flex-1 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,t.jsx)(g,{current:j,total:_.length,className:"mb-8"}),(0,t.jsx)(v,{question:k,onAnswer:e=>{if(k){if(null!==e&&(u(k.id,e),(0,S.$s)("question_answered",{question:k.id,answer:e,session_id:s.sessionId}),"fever"===k.id&&!0===e)){p(!0);return}x()}},className:"mb-8"}),D&&(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)(o.$,{onClick:E,size:"lg",className:"bg-accent hover:bg-accent/90",children:[(0,t.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"See Results (",j," questions answered)"]})})]})}),(0,t.jsx)(l.w,{})]})}},35695:(e,a,s)=>{"use strict";var t=s(18999);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},40133:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},71519:(e,a,s)=>{Promise.resolve().then(s.bind(s,20280))},88145:(e,a,s)=>{"use strict";s.d(a,{E:()=>c});var t=s(95155);s(12115);var r=s(99708),n=s(74466),i=s(53999);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:a,variant:s,asChild:n=!1,...c}=e,o=n?r.DX:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(l({variant:s}),a),...c})}},88482:(e,a,s)=>{"use strict";s.d(a,{BT:()=>c,Wu:()=>o,ZB:()=>l,Zp:()=>n,aR:()=>i});var t=s(95155);s(12115);var r=s(53999);function n(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...s})}function i(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...s})}function l(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...s})}function c(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",a),...s})}function o(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...s})}},95295:(e,a,s)=>{"use strict";s.d(a,{k:()=>N});var t=s(95155),r=s(12115),n=s(46081),i=s(63655),l="Progress",[c,o]=(0,n.A)(l),[d,u]=c(l),m=r.forwardRef((e,a)=>{var s,r,n,l;let{__scopeProgress:c,value:o=null,max:u,getValueLabel:m=f,...x}=e;(u||0===u)&&!g(u)&&console.error((s="".concat(u),r="Progress","Invalid prop `max` of value `".concat(s,"` supplied to `").concat(r,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let h=g(u)?u:100;null===o||j(o,h)||console.error((n="".concat(o),l="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let y=j(o,h)?o:null,N=p(y)?m(y,h):void 0;return(0,t.jsx)(d,{scope:c,value:y,max:h,children:(0,t.jsx)(i.sG.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":p(y)?y:void 0,"aria-valuetext":N,role:"progressbar","data-state":v(y,h),"data-value":null!=y?y:void 0,"data-max":h,...x,ref:a})})});m.displayName=l;var x="ProgressIndicator",h=r.forwardRef((e,a)=>{var s;let{__scopeProgress:r,...n}=e,l=u(x,r);return(0,t.jsx)(i.sG.div,{"data-state":v(l.value,l.max),"data-value":null!==(s=l.value)&&void 0!==s?s:void 0,"data-max":l.max,...n,ref:a})});function f(e,a){return"".concat(Math.round(e/a*100),"%")}function v(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function p(e){return"number"==typeof e}function g(e){return p(e)&&!isNaN(e)&&e>0}function j(e,a){return p(e)&&!isNaN(e)&&e<=a&&e>=0}h.displayName=x;var y=s(53999);function N(e){let{className:a,value:s,...r}=e;return(0,t.jsx)(m,{"data-slot":"progress",className:(0,y.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...r,children:(0,t.jsx)(h,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[470,874,922,285,507,441,684,358],()=>a(71519)),_N_E=e.O()}]);