(()=>{var e={};e.id=397,e.ids=[397],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3877:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=t(65239),a=t(48088),i=t(88170),n=t.n(i),l=t(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c={children:["",{children:["check",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,39074)),"/workspace/frontend/app/check/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/workspace/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,56032)),"/workspace/frontend/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/workspace/frontend/app/check/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/check/page",pathname:"/check",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13964:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(62688).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24785:(e,s,t)=>{"use strict";t.d(s,{S:()=>n});var r=t(26787),a=t(59350);let i=()=>"session_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),n=(0,r.v)()((0,a.Zr)((e,s)=>({session:null,apiBaseUrl:null,initSession:()=>{e({session:{sessionId:i(),symptoms:{},vitals:{},demographics:{},currentQuestionIndex:0,isComplete:!1}})},updateSymptom:(t,r)=>{let{session:a}=s();a&&e({session:{...a,symptoms:{...a.symptoms,[t]:r}}})},updateVitals:t=>{let{session:r}=s();r&&e({session:{...r,vitals:{...r.vitals,...t}}})},updateDemographics:t=>{let{session:r}=s();r&&e({session:{...r,demographics:{...r.demographics,...t}}})},nextQuestion:()=>{let{session:t}=s();if(!t)return;let r=t.currentQuestionIndex+1;e({session:{...t,currentQuestionIndex:r,isComplete:r>=8}})},resetSession:()=>{e({session:null})},setApiBaseUrl:s=>{e({apiBaseUrl:s})}}),{name:"soma-session",partialize:e=>({session:e.session,apiBaseUrl:e.apiBaseUrl})}))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},39074:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspace/frontend/app/check/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/frontend/app/check/page.tsx","default")},44577:(e,s,t)=>{Promise.resolve().then(t.bind(t,39074))},57729:(e,s,t)=>{Promise.resolve().then(t.bind(t,99427))},59821:(e,s,t)=>{"use strict";t.d(s,{E:()=>o});var r=t(60687);t(43210);var a=t(8730),i=t(24224),n=t(96241);let l=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:s,asChild:t=!1,...i}){let o=t?a.DX:"span";return(0,r.jsx)(o,{"data-slot":"badge",className:(0,n.cn)(l({variant:s}),e),...i})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},86287:(e,s,t)=>{"use strict";t.d(s,{k:()=>n});var r=t(60687);t(43210);var a=t(25177),i=t(96241);function n({className:e,value:s,...t}){return(0,r.jsx)(a.bL,{"data-slot":"progress",className:(0,i.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...t,children:(0,r.jsx)(a.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}},99427:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>B});var r=t(60687),a=t(43210),i=t(16189),n=t(17993),l=t(41778),o=t(68631),c=t(24934),d=t(55192),u=t(59821),m=t(13964),x=t(11860),p=t(62688);let h=(0,p.A)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function f({question:e,onAnswer:s,className:t}){let[i,n]=(0,a.useState)(0),[l,p]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:t,children:[(0,r.jsx)(o.P.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.3,dragTransition:{bounceStiffness:300,bounceDamping:20},onDrag:(e,s)=>{p(!0),n(s.offset.x)},onDragEnd:(e,t)=>{p(!1),t.offset.x>80?s(!0):t.offset.x<-80&&s(!1),n(0)},whileDrag:{scale:1.02,rotate:.1*i,boxShadow:"0 10px 30px oklch(0.55 0.15 162 / 0.2)"},className:"relative cursor-grab active:cursor-grabbing",initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:i>0?300:-300,scale:.8},transition:{type:"spring",stiffness:300,damping:30},children:(0,r.jsxs)(d.Zp,{className:"w-full max-w-md mx-auto border-border/50 bg-card/80 backdrop-blur-sm",children:[l?i>40?(0,r.jsx)(o.P.div,{className:"absolute inset-0 flex items-center justify-center bg-primary/20 rounded-lg backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},children:(0,r.jsxs)(o.P.div,{className:"flex items-center space-x-2 text-primary",initial:{scale:.8},animate:{scale:1},children:[(0,r.jsx)(m.A,{className:"h-8 w-8"}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:"Yes"})]})}):i<-40?(0,r.jsx)(o.P.div,{className:"absolute inset-0 flex items-center justify-center bg-destructive/20 rounded-lg backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},children:(0,r.jsxs)(o.P.div,{className:"flex items-center space-x-2 text-destructive",initial:{scale:.8},animate:{scale:1},children:[(0,r.jsx)(x.A,{className:"h-8 w-8"}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:"No"})]})}):null:null,(0,r.jsxs)(d.aR,{className:"text-center",children:[(0,r.jsx)(d.ZB,{className:"text-lg text-card-foreground",children:e.label}),e.helpText&&(0,r.jsx)(d.BT,{className:"text-sm text-muted-foreground",children:e.helpText})]}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)(o.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,r.jsxs)(c.$,{onClick:()=>s(!0),className:"h-12 text-base w-full glow-emerald",variant:"default",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Yes"]})}),(0,r.jsx)(o.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,r.jsxs)(c.$,{onClick:()=>s(!1),className:"h-12 text-base w-full border-secondary text-secondary hover:bg-secondary/10",variant:"outline",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"No"]})})]}),(0,r.jsx)(o.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,r.jsxs)(c.$,{onClick:()=>s(null),variant:"ghost",className:"w-full text-muted-foreground hover:text-foreground",children:[(0,r.jsx)(h,{className:"mr-2 h-4 w-4"}),"I don't know / Skip"]})})]})]})}),(0,r.jsxs)(o.P.div,{className:"mt-6 text-center text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,r.jsx)(u.E,{variant:"outline",className:"text-xs border-primary/30 text-primary",children:"Y = Yes"}),(0,r.jsx)(u.E,{variant:"outline",className:"text-xs border-secondary/30 text-secondary",children:"N = No"}),(0,r.jsx)(u.E,{variant:"outline",className:"text-xs border-muted-foreground/30",children:"S = Skip"})]}),(0,r.jsx)("p",{className:"mt-2",children:"Use keyboard shortcuts or swipe left/right"})]})]})}var v=t(86287);function g({current:e,total:s,className:t}){let a=Math.round(e/s*100);return(0,r.jsxs)("div",{className:t,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-2",children:[(0,r.jsx)("span",{children:"Progress"}),(0,r.jsxs)("span",{children:[a,"%"]})]}),(0,r.jsx)(v.k,{value:a,className:"h-2"}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground mt-1",children:[(0,r.jsxs)("span",{children:[e," of ",s," questions"]}),(0,r.jsxs)("span",{children:[s-e," remaining"]})]})]})}var b=t(96241);function y({className:e,type:s,...t}){return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,b.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}var j=t(39390);let N=(0,p.A)("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);function w({onTemperatureChange:e,onContinue:s,initialTemperature:t}){let[i,n]=(0,a.useState)(t?.toString()||""),[l,o]=(0,a.useState)(""),u=s=>{if(n(s),o(""),""===s){e(void 0);return}let t=Number.parseFloat(s);if(isNaN(t)){o("Please enter a valid number");return}if(t<34||t>43){o("Temperature should be between 34\xb0C and 43\xb0C");return}e(t)},m=()=>{(!i||!l)&&s()};return(0,r.jsxs)(d.Zp,{className:"w-full max-w-md mx-auto",children:[(0,r.jsxs)(d.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 mb-4",children:(0,r.jsx)(N,{className:"h-6 w-6 text-primary"})}),(0,r.jsx)(d.ZB,{children:"Temperature Check"}),(0,r.jsx)(d.BT,{children:"Since you have a fever, please enter your current body temperature if known"})]}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(j.J,{htmlFor:"temperature",children:"Temperature (\xb0C)"}),(0,r.jsx)(y,{id:"temperature",type:"number",placeholder:"37.0",value:i,onChange:e=>u(e.target.value),min:"34",max:"43",step:"0.1"}),l&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:l}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Normal body temperature is around 37\xb0C (98.6\xb0F)"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c.$,{variant:"outline",onClick:()=>m(),className:"flex-1",children:"Skip"}),(0,r.jsx)(c.$,{onClick:m,disabled:!!l,className:"flex-1",children:"Continue"})]})]})]})}let k=(0,p.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function C({className:e,size:s="md"}){return(0,r.jsx)(k,{className:(0,b.cn)("animate-spin text-primary",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[s],e)})}var _=t(24785);let P=[{id:"fever",label:"Do you have a fever?",helpText:"Body temperature above normal (usually 37\xb0C/98.6\xb0F)",type:"boolean"},{id:"headache",label:"Do you have a headache?",helpText:"Pain or discomfort in your head or upper neck",type:"boolean"},{id:"chills",label:"Are you experiencing chills or shivering?",helpText:"Feeling cold with uncontrollable shaking",type:"boolean"},{id:"body_pain",label:"Do you have body aches or joint pain?",helpText:"General muscle soreness or joint discomfort",type:"boolean"},{id:"nausea",label:"Are you feeling nauseous or have you vomited?",helpText:"Feeling sick to your stomach or actual vomiting",type:"boolean"},{id:"diarrhea",label:"Do you have diarrhea?",helpText:"Loose, watery bowel movements",type:"boolean"},{id:"cough",label:"Do you have a cough?",helpText:"Persistent coughing, dry or with phlegm",type:"boolean"},{id:"sore_throat",label:"Do you have a sore throat?",helpText:"Pain or irritation in your throat",type:"boolean"},{id:"fatigue",label:"Are you experiencing unusual fatigue or weakness?",helpText:"Feeling more tired than usual or lacking energy",type:"boolean"},{id:"abdominal_pain",label:"Do you have abdominal or stomach pain?",helpText:"Pain or discomfort in your belly area",type:"boolean"},{id:"rash",label:"Do you have any skin rash or changes?",helpText:"New spots, bumps, or changes in your skin",type:"boolean"},{id:"duration_gt_3d",label:"Have your symptoms lasted more than 3 days?",helpText:"Duration of your current symptoms",type:"boolean"}],T=e=>e>=P.length?null:P[e];var S=t(59556),A=t(70334),q=t(13943);function B(){let e=(0,i.useRouter)(),{session:s,initSession:t,updateSymptom:o,updateVitals:u,nextQuestion:m,resetSession:x}=(0,_.S)(),[p,h]=(0,a.useState)(!1),[v,b]=(0,a.useState)(0),[y,j]=(0,a.useState)(!0);if(y||!s)return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(n.NavBar,{}),(0,r.jsx)("main",{className:"flex-1 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)(C,{size:"lg"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Initializing symptom check..."})]})}),(0,r.jsx)(l.w,{})]});let N=T(s.currentQuestionIndex),k=v>=8||s.isComplete,B=()=>{(0,S.$s)("flow_completed",{session_id:s.sessionId,questions_answered:v,total_questions:P.length}),e.push("/result")};return p?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(n.NavBar,{}),(0,r.jsx)("main",{className:"flex-1 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,r.jsx)(g,{current:v,total:P.length,className:"mb-8"}),(0,r.jsx)(w,{onTemperatureChange:e=>{u({temperature_c:e})},onContinue:()=>{h(!1),m()},initialTemperature:s.vitals.temperature_c})]})}),(0,r.jsx)(l.w,{})]}):!N||s.currentQuestionIndex>=P.length?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(n.NavBar,{}),(0,r.jsx)("main",{className:"flex-1 flex items-center justify-center p-4",children:(0,r.jsxs)(d.Zp,{className:"w-full max-w-md mx-auto",children:[(0,r.jsxs)(d.aR,{className:"text-center",children:[(0,r.jsx)(d.ZB,{children:"Symptom Check Complete"}),(0,r.jsxs)(d.BT,{children:["You've answered ",v," questions. Ready to see your results?"]})]}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)(c.$,{onClick:B,className:"w-full",size:"lg",children:[(0,r.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"See Results"]}),(0,r.jsxs)(c.$,{onClick:()=>{x(),t(),h(!1),(0,S.$s)("symptom_check_restarted")},variant:"outline",className:"w-full bg-transparent",children:[(0,r.jsx)(q.A,{className:"mr-2 h-4 w-4"}),"Start Over"]})]})]})}),(0,r.jsx)(l.w,{})]}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(n.NavBar,{}),(0,r.jsx)("main",{className:"flex-1 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,r.jsx)(g,{current:v,total:P.length,className:"mb-8"}),(0,r.jsx)(f,{question:N,onAnswer:e=>{if(N){if(null!==e&&(o(N.id,e),(0,S.$s)("question_answered",{question:N.id,answer:e,session_id:s.sessionId}),"fever"===N.id&&!0===e)){h(!0);return}m()}},className:"mb-8"}),k&&(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)(c.$,{onClick:B,size:"lg",className:"bg-accent hover:bg-accent/90",children:[(0,r.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"See Results (",v," questions answered)"]})})]})}),(0,r.jsx)(l.w,{})]})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,566,536,274,296,849,191],()=>t(3877));module.exports=r})();