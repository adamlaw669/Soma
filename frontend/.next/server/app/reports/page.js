(()=>{var e={};e.id=22,e.ids=[22],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23006:(e,t,s)=>{Promise.resolve().then(s.bind(s,94149))},24785:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(26787),a=s(59350);let n=()=>"session_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),i=(0,r.v)()((0,a.Zr)((e,t)=>({session:null,apiBaseUrl:null,initSession:()=>{e({session:{sessionId:n(),symptoms:{},vitals:{},demographics:{},currentQuestionIndex:0,isComplete:!1}})},updateSymptom:(s,r)=>{let{session:a}=t();a&&e({session:{...a,symptoms:{...a.symptoms,[s]:r}}})},updateVitals:s=>{let{session:r}=t();r&&e({session:{...r,vitals:{...r.vitals,...s}}})},updateDemographics:s=>{let{session:r}=t();r&&e({session:{...r,demographics:{...r.demographics,...s}}})},nextQuestion:()=>{let{session:s}=t();if(!s)return;let r=s.currentQuestionIndex+1;e({session:{...s,currentQuestionIndex:r,isComplete:r>=8}})},resetSession:()=>{e({session:null})},setApiBaseUrl:t=>{e({apiBaseUrl:t})}}),{name:"soma-session",partialize:e=>({session:e.session,apiBaseUrl:e.apiBaseUrl})}))},26787:(e,t,s)=>{"use strict";s.d(t,{v:()=>o});var r=s(43210);let a=e=>{let t;let s=new Set,r=(e,r)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),s.forEach(s=>s(t,e))}},a=()=>t,n={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(s.add(e),()=>s.delete(e))},i=t=e(r,a,n);return n},n=e=>e?a(e):a,i=e=>e,l=e=>{let t=n(e),s=e=>(function(e,t=i){let s=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(s),s})(t,e);return Object.assign(s,t),s},o=e=>e?l(e):l},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38161:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(65239),a=s(48088),n=s(88170),i=s.n(n),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94149)),"/workspace/frontend/app/reports/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/workspace/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,56032)),"/workspace/frontend/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/workspace/frontend/app/reports/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/reports/page",pathname:"/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},44053:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(60687),a=s(43210),n=s(17993),i=s(41778),l=s(85814),o=s.n(l);function d({report:e}){return(0,r.jsx)(o(),{href:`/report/${e.id}`,className:"block rounded border p-3 hover:bg-muted",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium",children:e.predicted.label}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[new Date(e.generated_at).toLocaleString()," â€¢ ",Math.round(100*e.predicted.probability),"%"]})]}),(0,r.jsx)("span",{className:"text-xs uppercase tracking-wide opacity-80",children:e.status})]})})}s(59556);var c=s(24785),u=s(55192),p=s(68988),x=s(63974);function m(){let{session:e}=(0,c.S)(),[t,s]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[m,h]=(0,a.useState)(!0),[g,f]=(0,a.useState)(null),[v,b]=(0,a.useState)("all"),[j,y]=(0,a.useState)("all"),[w,N]=(0,a.useState)("");return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(n.NavBar,{}),(0,r.jsx)("main",{className:"flex-1 p-4",children:(0,r.jsxs)("div",{className:"mx-auto max-w-3xl space-y-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Report History"}),(0,r.jsxs)("div",{className:"grid gap-3 md:grid-cols-4",children:[(0,r.jsxs)(u.Zp,{className:"p-3",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Total"}),(0,r.jsx)("div",{className:"text-xl font-bold",children:t.length})]}),(0,r.jsxs)(u.Zp,{className:"p-3",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Pending"}),(0,r.jsx)("div",{className:"text-xl font-bold",children:t.filter(e=>"pending"===e.status).length})]}),(0,r.jsxs)(u.Zp,{className:"p-3",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Reviewed"}),(0,r.jsx)("div",{className:"text-xl font-bold",children:t.filter(e=>"reviewed"===e.status).length})]}),(0,r.jsxs)(u.Zp,{className:"p-3",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"High Priority"}),(0,r.jsx)("div",{className:"text-xl font-bold",children:t.filter(e=>"high"===e.triage).length})]})]}),(0,r.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[(0,r.jsx)(p.p,{placeholder:"Search by ID or diagnosis",value:w,onChange:e=>N(e.target.value),"aria-label":"Search reports"}),(0,r.jsxs)(x.l6,{value:v,onValueChange:b,children:[(0,r.jsx)(x.bq,{children:(0,r.jsx)(x.yv,{placeholder:"Status"})}),(0,r.jsxs)(x.gC,{children:[(0,r.jsx)(x.eb,{value:"all",children:"All Status"}),(0,r.jsx)(x.eb,{value:"pending",children:"Pending"}),(0,r.jsx)(x.eb,{value:"reviewed",children:"Reviewed"}),(0,r.jsx)(x.eb,{value:"confirmed",children:"Confirmed"})]})]}),(0,r.jsxs)(x.l6,{value:j,onValueChange:y,children:[(0,r.jsx)(x.bq,{children:(0,r.jsx)(x.yv,{placeholder:"Priority"})}),(0,r.jsxs)(x.gC,{children:[(0,r.jsx)(x.eb,{value:"all",children:"All Priority"}),(0,r.jsx)(x.eb,{value:"high",children:"High"}),(0,r.jsx)(x.eb,{value:"medium",children:"Medium"}),(0,r.jsx)(x.eb,{value:"low",children:"Low"})]})]})]}),g&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:g}),m?(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):0===t.length?(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No reports yet."}):(0,r.jsx)("div",{className:"space-y-2",children:l.slice().reverse().map(e=>(0,r.jsx)(d,{report:e},e.id))})]})}),(0,r.jsx)(i.w,{})]})}},59350:(e,t,s)=>{"use strict";s.d(t,{Zr:()=>a});let r=e=>t=>{try{let s=e(t);if(s instanceof Promise)return s;return{then:e=>r(e)(s),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>r(t)(e)}}},a=(e,t)=>(s,a,n)=>{let i,l={storage:function(e,t){let s;try{s=e()}catch(e){return}return{getItem:e=>{var t;let r=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=s.getItem(e))?t:null;return a instanceof Promise?a.then(r):r(a)},setItem:(e,t)=>s.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>s.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,d=new Set,c=new Set,u=l.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),s(...e)},a,n);let p=()=>{let e=l.partialize({...a()});return u.setItem(l.name,{state:e,version:l.version})},x=n.setState;n.setState=(e,t)=>(x(e,t),p());let m=e((...e)=>(s(...e),p()),a,n);n.getInitialState=()=>m;let h=()=>{var e,t;if(!u)return;o=!1,d.forEach(e=>{var t;return e(null!=(t=a())?t:m)});let n=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=a())?e:m))||void 0;return r(u.getItem.bind(u))(l.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[r,n]=e;if(s(i=l.merge(n,null!=(t=a())?t:m),!0),r)return p()}).then(()=>{null==n||n(i,void 0),i=a(),o=!0,c.forEach(e=>e(i))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{l={...l,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},l.skipHydration||h(),i||m}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63974:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>x,gC:()=>p,l6:()=>d,yv:()=>c});var r=s(60687);s(43210);var a=s(27846),n=s(78272),i=s(13964),l=s(3589),o=s(96241);function d({...e}){return(0,r.jsx)(a.bL,{"data-slot":"select",...e})}function c({...e}){return(0,r.jsx)(a.WT,{"data-slot":"select-value",...e})}function u({className:e,size:t="default",children:s,...i}){return(0,r.jsxs)(a.l9,{"data-slot":"select-trigger","data-size":t,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[s,(0,r.jsx)(a.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function p({className:e,children:t,position:s="popper",...n}){return(0,r.jsx)(a.ZL,{children:(0,r.jsxs)(a.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[(0,r.jsx)(m,{}),(0,r.jsx)(a.LM,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,r.jsx)(h,{})]})})}function x({className:e,children:t,...s}){return(0,r.jsxs)(a.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(a.VF,{children:(0,r.jsx)(i.A,{className:"size-4"})})}),(0,r.jsx)(a.p4,{children:t})]})}function m({className:e,...t}){return(0,r.jsx)(a.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(l.A,{className:"size-4"})})}function h({className:e,...t}){return(0,r.jsx)(a.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(n.A,{className:"size-4"})})}},68988:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(60687);s(43210);var a=s(96241);function n({className:e,type:t,...s}){return(0,r.jsx)("input",{type:t,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}},91462:(e,t,s)=>{Promise.resolve().then(s.bind(s,44053))},94149:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspace/frontend/app/reports/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/frontend/app/reports/page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,566,536,314,849,191],()=>s(38161));module.exports=r})();