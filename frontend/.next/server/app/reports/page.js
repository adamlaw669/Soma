(()=>{var e={};e.id=22,e.ids=[22],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23006:(e,t,r)=>{Promise.resolve().then(r.bind(r,94149))},24785:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});var s=r(26787),n=r(59350);let a=()=>"session_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),i=(0,s.v)()((0,n.Zr)((e,t)=>({session:null,apiBaseUrl:null,initSession:()=>{e({session:{sessionId:a(),symptoms:{},vitals:{},demographics:{},currentQuestionIndex:0,isComplete:!1}})},updateSymptom:(r,s)=>{let{session:n}=t();n&&e({session:{...n,symptoms:{...n.symptoms,[r]:s}}})},updateVitals:r=>{let{session:s}=t();s&&e({session:{...s,vitals:{...s.vitals,...r}}})},updateDemographics:r=>{let{session:s}=t();s&&e({session:{...s,demographics:{...s.demographics,...r}}})},nextQuestion:()=>{let{session:r}=t();if(!r)return;let s=r.currentQuestionIndex+1;e({session:{...r,currentQuestionIndex:s,isComplete:s>=8}})},resetSession:()=>{e({session:null})},setApiBaseUrl:t=>{e({apiBaseUrl:t})}}),{name:"soma-session",partialize:e=>({session:e.session,apiBaseUrl:e.apiBaseUrl})}))},26787:(e,t,r)=>{"use strict";r.d(t,{v:()=>l});var s=r(43210);let n=e=>{let t;let r=new Set,s=(e,s)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,a={setState:s,getState:n,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(s,n,a);return a},a=e=>e?n(e):n,i=e=>e,o=e=>{let t=a(e),r=e=>(function(e,t=i){let r=s.useSyncExternalStore(e.subscribe,s.useCallback(()=>t(e.getState()),[e,t]),s.useCallback(()=>t(e.getInitialState()),[e,t]));return s.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},l=e=>e?o(e):o},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38161:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=r(65239),n=r(48088),a=r(88170),i=r.n(a),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,94149)),"/workspace/frontend/app/reports/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/workspace/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,56032)),"/workspace/frontend/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["/workspace/frontend/app/reports/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/reports/page",pathname:"/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},44053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(60687),n=r(43210),a=r(17993),i=r(41778),o=r(85814),l=r.n(o);function d({report:e}){return(0,s.jsx)(l(),{href:`/report/${e.id}`,className:"block rounded border p-3 hover:bg-muted",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:e.predicted.label}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[new Date(e.generated_at).toLocaleString()," â€¢ ",Math.round(100*e.predicted.probability),"%"]})]}),(0,s.jsx)("span",{className:"text-xs uppercase tracking-wide opacity-80",children:e.status})]})})}r(59556);var u=r(24785);function c(){let{session:e}=(0,u.S)(),[t,r]=(0,n.useState)([]),[o,l]=(0,n.useState)(!0),[c,p]=(0,n.useState)(null);return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(a.NavBar,{}),(0,s.jsx)("main",{className:"flex-1 p-4",children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl space-y-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Report History"}),c&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:c}),o?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):0===t.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No reports yet."}):(0,s.jsx)("div",{className:"space-y-2",children:t.slice().reverse().map(e=>(0,s.jsx)(d,{report:e},e.id))})]})}),(0,s.jsx)(i.w,{})]})}},59350:(e,t,r)=>{"use strict";r.d(t,{Zr:()=>n});let s=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>s(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>s(t)(e)}}},n=(e,t)=>(r,n,a)=>{let i,o={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let s=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(s):s(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,d=new Set,u=new Set,c=o.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)},n,a);let p=()=>{let e=o.partialize({...n()});return c.setItem(o.name,{state:e,version:o.version})},m=a.setState;a.setState=(e,t)=>(m(e,t),p());let x=e((...e)=>(r(...e),p()),n,a);a.getInitialState=()=>x;let h=()=>{var e,t;if(!c)return;l=!1,d.forEach(e=>{var t;return e(null!=(t=n())?t:x)});let a=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=n())?e:x))||void 0;return s(c.getItem.bind(c))(o.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[s,a]=e;if(r(i=o.merge(a,null!=(t=n())?t:x),!0),s)return p()}).then(()=>{null==a||a(i,void 0),i=n(),l=!0,u.forEach(e=>e(i))}).catch(e=>{null==a||a(void 0,e)})};return a.persist={setOptions:e=>{o={...o,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>h(),hasHydrated:()=>l,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},o.skipHydration||h(),i||x}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},91462:(e,t,r)=>{Promise.resolve().then(r.bind(r,44053))},94149:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspace/frontend/app/reports/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/frontend/app/reports/page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,566,536,849,191],()=>r(38161));module.exports=s})();